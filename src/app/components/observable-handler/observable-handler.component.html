<ng-container
  *ngIf="show && {
    data: observable$ | async,
    err: observableError$ | async
  } as observable"
>
  <div *ngIf="!observable.err && observable.data as data; else loading">
    <p *ngIf="show">{{ data | json }}</p>
  </div>
  <p *ngIf="observable.err as err">{{ err }}</p>

  <ng-template #loading>
    <div *ngIf="!observable.err">
      <div>Loading...</div>
    </div>
  </ng-template>
